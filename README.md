# VR-приложение по ТЗ. Часть 2.
## Описание
***Разрабатывался на версии Unity 2022.3.28f1***

VR-проект на базе фреймворка VRIF, содержащий в клавиатуру, управляемую при помощи VR-контроллеров. 
При реализации проекта также использовался Zenject.

Для управления клавиатурой при помощи контроллера используйте **левый стик** для перемещения и **кнопку X** для ввода.
## Содержание
Все скрипты в проекте подразделяются на 4 основные директории:
1. **Core** — основная логика проекта, взаимодействие с клавиатурой;
2. **Input** — дополнительные модули ввода для EventSystem;
3. **Installers** — установщика зависимостей Zenject;
4. **Utilities** — дополнительный код для упрощения разработки.

Клавиатура построена по паттерну MVC, где:
1. **Models** — данные о символах и раскладках клавиатуры;
2. **Views** — отдельные кнопки клавиатуры и Layout раскладки;
3. **Controllers** — обработчик событий, отправляемых с кнопок и уведомитель внешних объектов.

Любой объект, который хочет отслеживать нажатие кнопок клавиатуры должен инъецировать ***'IKeyboardEventNotifier'***.

## Инструкция по запуску (VR Emulator)
### Установка и запуск проекта
1. Склонируйте репозиторий при помощи команды:
```
git clone https://github.com/BarsikKato/VrifFirst.git
```
2. Откройте склонированный проект в **Unity**;
3. После загрузки, в проекте откройте сцену ***Main***, расположенную папке ***Scenes***;
4. В иерархии сцены выберите объект **XR Rig**;
5. В инспекторе объекта поставьте галочку на компоненте ***VR Emulator***;
6. Нажмите кнопку ***Play***.
### Сборка проекта
1. В **Unity**, во вкладке **File** выберите пункт **Build Settings**;
2. В открывшемся окне, в область ***Scenes in build*** добавьте сцену ***Main*** (если она отсутствует);
3. Нажмите кнопку **Build And Run**;
4. Программа запустится автоматически.

## Инструкция по запуску (Oculus Quest 2 + SteamVR)
### Подготовка Steam
1. Установите и запустите **Steam**, войдите в свой аккаунт;
2. Откройте вкладку магазин;
3. В поиске найдите **SteamVR** и установите.
4. Запустите **SteamVR**.
### Подключение шлема к SteamVR (Oculus Air Link)
1. Установите и запустите **Oculus** на своем компьютере;
2. Перейдите во вкладку **Устройства** и нажмите **Добавить гарнитуру**;
3. В списке гарнитуры выберите **Quest 2**;
4. Выберите **Air Link** как способ подключения; ***(далее не выключайте программу)***
5. Наденьте шлем и подключите его к Wi-Fi сети вашего компьютера;
6. В главном меню шлема откройте **Quest Link** и включите пункт **Использовать Air Link**;
7. Выберите из списка компьютер, с которым хотите связать шлем. Следуйте инструкциям в шлеме;
8. Нажмите подтвердить в **Oculus** на ПК.
### Подключение шлема к SteamVR (Virtual Desktop)
1. Наденьте шлем и подключите его к Wi-Fi сети вашего компьютера;
2. Установите и запустите **Virtual Desktop** на своем шлеме;
3. Установите и запустите **Virtual Desktop Streamer** на своем ПК;
4. В **Virtual Desktop Streamer** перейдите во вкладку ***Accounts*** и добавьте в список ваш аккаунт в Oculus;
5. В **Virtual Desktop** выберите в списке Ваш компьютер.
### Установка и запуск проекта
1. Склонируйте репозиторий при помощи команды:
```
git clone https://github.com/BarsikKato/VrifFirst.git
```
2. Откройте склонированный проект в **Unity**;
3. После загрузки, в проекте откройте сцену ***Main***, расположенную папке ***Scenes***;
4. Наденьте шлем и нажмите кнопку ***Play*** в **Unity**.
### Сборка проекта (ПК)
1. В **Unity**, во вкладке **File** выберите пункт **Build Settings**;
2. В открывшемся окне, в область ***Scenes in build*** добавьте сцену ***Main*** (если она отсутствует);
3. В списке **Platforms** выберите ***'Windows, Mac, Linux'***;
4. Нажмите кнопку **Build And Run**;
5. По завершению сборки наденьте шлем, программа запустится автоматически.
### Сборка проекта (шлем)
1. Перейдите в **File>Project Settings>XR Plug-in Management**;
2. В списке **Plug-in Providers** выберите **Oculus**;
3. Подключите шлем к компьютеру при помощи USB-провода и в шлеме разрешите передачу файлов;
4. В **Unity**, во вкладке **File** выберите пункт **Build Settings**;
5. В открывшемся окне, в область ***Scenes in build*** добавьте сцену ***Main*** (если она отсутствует);
6. В списке **Platforms** выберите ***'Android'***;
7. В выпадающем списке **Run Device** выберите свой шлем;
8. Нажмите кнопку **Build And Run**;
9. По завершению сборки наденьте шлем, программа запустится автоматически.
